d <- import("sumoSimulation")
xmltojson <- import("xmltojson")
xmltojson <- import("xmltojson")
source("../../python/pythonUtilities.r")
sumo <- import("sumoSimulation")
system
system.getCurrentDirectory()
system.getCurrentDirectory()
rstudioapi::getActiveDocumentContext()$path
getwd()
getwd() + "/hola/"
paste("hola","hoal")
source("../../python/pythonUtilities.r")
OUTPUT_PATH = "../output/cruce.output.xml"
CONF_BASE_PATH = paste(getwd(),"/conf/cruce.sumo.cfg")
sumo_simulate(CONF_BASE_PATH, 10000)
source("../../python/pythonUtilities.r")
sumo_simulate(CONF_BASE_PATH, 10000)
sumo_simulate(CONF_BASE_PATH, 10000)
data <- read_xml_data(OUTPUT_PATH)
library(XML)
doc = xmlTreeParse("output/cruce.1.output.xml", useInternal=TRUE)
getwd()
doc = xmlTreeParse("../output/cruce.1.output.xml", useInternal=TRUE)
library(XML)
doc = xmlTreeParse("../output/cruce.1.output.xml", useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
mean(duration)
paste("hola","adios","hello")
mean_durations <- c()
mean_durations <- c()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml")
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
mean_durations$append(mean(duration))
}
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
mean_durations$append(mean(duration))
}
mean_durations <- c()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
mean_durations$append(mean(duration))
}
mean_durations.append(2)
mean_durations <- c()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
append(mean_durations, mean(duration))
}
hist(mean_durations)
append(mean_durations,c(1))
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
print(mean(duration))
}
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
print(mean(duration))
}
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
print(mean(duration))
}
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
print(mean(duration))
}
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
print(mean(duration))
}
library(XML)
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
print(mean(duration))
}
a <- list()
a.append(3)
append(a,2)
a
append(a,45,54,45)
append(a,values=45)
append(a,values=44)
a <- append(a,values=44)
a <- append(a,values=44)
a <- append(a,values=44)
a <- append(a,values=44)
a
mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
print(mean(duration))
mean_durations <- append(mean_durations, values = duration)
}
hist(mean_durations)
hist(as.numeric(mean_durations))
View(mean_durations)
mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
mean_durations <- append(mean_durations, values = mean(duration))
}
as.numeric
hist(as.numeric(mean_durations))
View(mean_durations)
hist(as.numeric(mean_durations), xlab = "media duración del trayecto (segundos)")
as.numeric
ls
ls()
source("../simulation.sh")
mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
mean_durations <- append(mean_durations, values = mean(duration))
}
hist(as.numeric(mean_durations), xlab = "Media duración del trayecto (segundos)")
new_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.2.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
new_mean_durations <- append(mean_durations, values = mean(duration))
}
new_hist <- hist(as.numeric(new_mean_durations), xlab = "Media duración del trayecto (segundos)")
plot(base_hist)
base_hist <- hist(as.numeric(base_mean_durations), xlab = "Media duración del trayecto (segundos)")
install.packages(XML)
library(XML)
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(mean_durations, values = mean(duration))
}
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
new_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.2.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
new_mean_durations <- append(new_mean_durations, values = mean(duration))
}
base_hist <- hist(as.numeric(base_mean_durations), xlab = "Media duración del trayecto (segundos)")
new_hist <- hist(as.numeric(new_mean_durations), xlab = "Media duración del trayecto (segundos)")
plot(base_hist)
plot(new_hist,add = TRUE)
plot(base_hist)
plot(new_hist,add = T)
plot(base_hist, col = rgb(1,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(0,500))
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(200,500))
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(250,400))
plot(new_hist,col = rgb(0,1,0,0.5), xlim=c(250,400), add = T)
plot(new_hist,col = rgb(0,1,0,0.5), xlim=c(250,400), add = T)
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(250,400))
base_hist <- hist(as.numeric(base_mean_durations), breaks = 10, xlab = "Media duración del trayecto (segundos)")
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10, xlab = "Media duración del trayecto (segundos)")
plot(new_hist,col = rgb(0,1,0,0.5), xlim=c(250,400), add = T)
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(250,400))
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(250,400))
plot(new_hist,col = rgb(0,1,0,0.5), xlim=c(250,400), add = T)
plot(new_hist,col = rgb(0,1,0,0.5), xlim=c(250,400), add = T)
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10, xlab = "Media duración del trayecto (segundos)")
base_hist <- hist(as.numeric(base_mean_durations), breaks = 10)
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(250,400))
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10)
plot(new_hist,col = rgb(0,1,0,0.5), xlim=c(250,400), add = T)
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(250,400))
plot(new_hist,col = rgb(0,1,0,0.5), xlim=c(250,400), add = T)
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10)
plot(base_hist, col = rgb(1,0,0,0.5), xlim=c(250,400))
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10)
plot(base_hist, col = rgb(1,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
new_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.2.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
new_mean_durations <- append(new_mean_durations, values = mean(duration))
}
base_hist <- hist(as.numeric(base_mean_durations), breaks = 10)
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10)
plot(base_hist, col = rgb(1,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
install.packages(XML)
library(XML)
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
print(xmlSApply(top,xmlGetAttr,"duration"))
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
print(xmlSApply(top,xmlGetAttr,"duration"))
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
install.packages(XML)
library(XML)
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
install.packages(XML)
library(XML)
base_mean_durations <- list()
install.packages(XML)
detach("package:XML", unload = TRUE)
library(XML)
xml
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
install.packages(XML)
library(XML)
install.packages("XML")
install.packages("XML")
XML
XML
library(XML)
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
library("XML")
base_mean_durations <- list()
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
library('XML')
for (i in 1:30){
file_path = paste("../output/cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
print(doc)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
for (i in 1:30){
file_path = paste(OUTPUT_PATH,"cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
print(doc)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
OUTPUT_PATH="../output/demandaBase/"
for (i in 1:30){
file_path = paste(OUTPUT_PATH,"cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
print(doc)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
base_hist <- hist(as.numeric(base_mean_durations), breaks = 10)
plot(base_hist, col = rgb(1,0,0,0.5))
new_mean_durations <- list()
for (i in 1:30){
file_path = paste(NEW_OUTPUT_PATH,"cruce.2.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
new_mean_durations <- append(new_mean_durations, values = mean(duration))
}
NEW_OUTPUT_PATH="../output/demandaNueva/"
new_mean_durations <- list()
for (i in 1:30){
file_path = paste(NEW_OUTPUT_PATH,"cruce.2.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
new_mean_durations <- append(new_mean_durations, values = mean(duration))
}
new_mean_durations <- list()
for (i in 1:30){
file_path = paste(NEW_OUTPUT_PATH,"cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
new_mean_durations <- append(new_mean_durations, values = mean(duration))
}
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10)
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
hist(base_hist, col = rgb(1,0,0,0.5))
hist(new_hist,col = rgb(0,1,0,0.5), add = T)
plot(base_hist, col = rgb(1,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
plot(base_hist, col = rgb(0.5,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
ot(base_hist, col = rgb(0.5,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = TRUE)
plot(base_hist, col = rgb(0.5,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = TRUE)
base_hist <- hist(as.numeric(base_mean_durations), breaks = 10)
new_hist <- hist(as.numeric(new_mean_durations), breaks = 10)
base_hist <- hist(as.numeric(base_mean_durations),plot=FALSE, breaks = 10)
new_hist <- hist(as.numeric(new_mean_durations),plot=FALSE, breaks = 10)
plot(base_hist, col = rgb(0.5,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = TRUE)
plot(base_hist, col = rgb(0.5,0,0,0.5))
plot(base_hist, col = rgb(0.5,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = TRUE)
plot(new_hist,col = rgb(0,1,0,0.5), add = TRUE)
plot(base_hist, col = rgb(0.5,0,0,0.5))
plot(new_hist,col = rgb(0,1,0,0.5), add = T)
base_hist <- hist(as.numeric(base_mean_durations),plot=FALSE, breaks = 10)
new_hist <- hist(as.numeric(new_mean_durations),plot=FALSE, breaks = 10, add = T)
hist(as.numeric(base_mean_durations),plot=FALSE, breaks = 10)
hist(as.numeric(base_mean_durations), breaks = 10)
hist(as.numeric(new_mean_durations), breaks = 10, add = T)
hist(as.numeric(new_mean_durations), breaks = 10, add = T)
hist(as.numeric(base_mean_durations),col = rgb(0.5,0,0,0.5), breaks = 10)
hist(as.numeric(new_mean_durations), col = rgb(0,1,0,0.5), breaks = 10, add = T)
fuel = as.numeric(sapply(getNodeSet(doc,"//emissions", xmlGetAttr("fuel_abs"))))
base_mean_durations <- list()
base_sum_fuel  <- list()
for (i in 1:30){
file_path = paste(BASE_OUTPUT_PATH,"cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
fuel = as.numeric(sapply(getNodeSet(doc,"//emissions", xmlGetAttr("fuel_abs"))))
base_sum_fuel <- append(base_sum_fuel, values = sum(fuel))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
BASE_OUTPUT_PATH="../output/demandaBase/"
base_mean_durations <- list()
base_sum_fuel  <- list()
for (i in 1:30){
file_path = paste(BASE_OUTPUT_PATH,"cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
fuel = as.numeric(sapply(getNodeSet(doc,"//emissions", xmlGetAttr("fuel_abs"))))
base_sum_fuel <- append(base_sum_fuel, values = sum(fuel))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
base_mean_durations <- list()
base_sum_fuel  <- list()
for (i in 1:30){
file_path = paste(BASE_OUTPUT_PATH,"cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
fuel = as.numeric(sapply(getNodeSet(doc,"//emissions"), xmlGetAttr("fuel_abs")))
base_sum_fuel <- append(base_sum_fuel, values = sum(fuel))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
base_mean_durations <- list()
base_sum_fuel  <- list()
for (i in 1:30){
file_path = paste(BASE_OUTPUT_PATH,"cruce.",i,".output.xml",sep="")
print(file_path)
doc = xmlTreeParse(file_path, useInternal=TRUE)
top = xmlRoot(doc)
duration = as.numeric(xmlSApply(top,xmlGetAttr,"duration"))
fuel = as.numeric(sapply(getNodeSet(doc,"//emissions"), xmlGetAttr,"fuel_abs"))
base_sum_fuel <- append(base_sum_fuel, values = sum(fuel))
base_mean_durations <- append(base_mean_durations, values = mean(duration))
}
hist(as.numeric(base_sum_fuel),col = rgb(0.5,0,0,0.5), breaks = 10)
hist(as.numeric(base_sum_fuel),col = rgb(0.5,0,5,0.5), breaks = 10)
hist(as.numeric(base_sum_fuel),col = rgb(0.5,0,1,0.5), breaks = 10)
